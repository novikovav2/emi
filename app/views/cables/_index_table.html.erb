<table class="table table-striped table-sm">
  <thead>
  <tr>
    <th>
      <% if @current_sort == 'from_box' %>
        <%= link_to request.params.merge(sort: 'from_box', order: 1 - @current_order ), class: 'thead_sort' do %>
          Стойка <%= sort_angle(@current_order) %>
        <% end %>
      <% else %>
        <%= link_to 'Стойка', request.params.merge(sort: 'from_box', order: 0 ), class: 'thead'%>

      <% end %>
    </th>
    <th>
      <% if @current_sort == 'from_patchpanel' %>
        <%= link_to request.params.merge(sort: 'from_patchpanel', order: 1 - @current_order ), class: 'thead_sort' do %>
          Патчпанель <%= sort_angle(@current_order) %>
        <% end %>
      <% else %>
        <%= link_to 'Патчпанель', request.params.merge(sort: 'from_patchpanel', order: 0 ), class: 'thead'%>
      <% end %>
    </th>
    <th>
      <% if @current_sort == 'from_interface' %>
        <%= link_to request.params.merge(sort: 'from_interface', order: 1 - @current_order ), class: 'thead_sort' do %>
          Порт <%= sort_angle(@current_order) %>
        <% end %>
      <% else %>
        <%= link_to 'Порт', request.params.merge(sort: 'from_interface', order: 0 ), class: 'thead'%>
      <% end %>
    </th>
    <th>
      <% if @current_sort == 'to_box' %>
        <%= link_to request.params.merge(sort: 'to_box', order: 1 - @current_order ), class: 'thead_sort' do %>
          Стойка <%= sort_angle(@current_order) %>
        <% end %>
      <% else %>
        <%= link_to 'Стойка', request.params.merge(sort: 'to_box', order: 0 ), class: 'thead'%>
      <% end %>
    </th>
    <th>
      <% if @current_sort == 'to_patchpanel' %>
        <%= link_to request.params.merge(sort: 'to_patchpanel', order: 1 - @current_order ), class: 'thead_sort' do %>
          Патчпанель <%= sort_angle(@current_order) %>
        <% end %>
      <% else %>
        <%= link_to 'Патчпанель', request.params.merge(sort: 'to_patchpanel', order: 0 ), class: 'thead'%>
      <% end %>
    </th>
    <th>
      <% if @current_sort == 'to_interface' %>
        <%= link_to request.params.merge(sort: 'to_interface', order: 1 - @current_order ), class: 'thead_sort' do %>
          Порт <%= sort_angle(@current_order) %>
        <% end %>
      <% else %>
        <%= link_to 'Порт', request.params.merge(sort: 'to_interface', order: 0 ), class: 'thead'%>
      <% end %>
    </th>
    <th>Материал</th>
    <th>Длина</th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  <% cables.each do |cable| %>
    <tr>
      <td><%= cable.from_node.patchpanel.box.name %></td>
      <td><%= cable.from_node.patchpanel.name %></td>
      <td><%= cable.from_node.name %></td>
      <td><%= cable.to_node.patchpanel.box.name %></td>
      <td><%= cable.to_node.patchpanel.name %></td>
      <td><%= cable.to_node.name %></td>
      <td><%= human_material(cable.material) %></td>
      <td><%= cable.length %></td>
      <td>
        <%= link_to cable, class: 'text-muted text-right mr-3' do %>
          <i class="far fa-eye"></i>
        <% end %>
        <%= link_to edit_cable_path(cable), class: 'text-muted text-right mr-3' do %>
          <i class="far fa-edit"></i>
        <% end %>
        <%= link_to cable, method: :delete, data: { confirm: 'Are you sure?' },
                    class: 'text-muted text-right' do %>
          <i class="far fa-trash-alt"></i>
        <% end %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
<%= render 'layouts/paginator', items_number: @cables_count,
           current_page: @page,
           limit: @limit %>